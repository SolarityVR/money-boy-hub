<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Gallery</title>
    <meta name="description"
          content="Advanced Hello World, WebXR! A-frame provides a hello world that is really remarkable, however you usually need to have controller selection and environment with movement.  With this example you get what works across the most headsets and controllers.">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0, shrink-to-fit=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="gray-translucent" />
    <!-- *** CHANGE THESE TO COMPONENTS ON YOUR SERVER *** -->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="scripts/custom/components.js"></script>

</head>

<body>
    <div id="loading_screen">
        <div id="loading_text">
        </div>
        <div id="loading_bar">
        </div>
    </div>
    <div id="scene_wrapper" style="opacity: 0;">
        <a-scene renderer="antialias: true;
        colorManagement: true;
        sortObjects: true;
        physicallyCorrectLights: true;
        maxCanvasWidth: 1920;
        maxCanvasHeight: 1920;" loading-screen="enabled:false" stats>
            <!-- assets management system -->
            <a-assets timeout="100000">
                <a-asset-item id="gallery-gltf" src="assets/models/Gallery room.glb"></a-asset-item>
                <a-asset-item id="navmesh-gltf" src="assets/models/navmesh.gltf"></a-asset-item>
            </a-assets>

            <!-- camera -->
            <a-entity simple-navmesh-constraint="navmesh:#navmesh;fall:0.5;height:1.65;" id="head"
                      camera="fov: 80; active: true" position="0 1.65 0" wasd-controls="acceleration: 20;"
                      look-controls="pointerLockEnabled: true; reverseMouseDrag: false">
                <a-entity id="cursor" cursor raycaster="far: 10; objects: .clickable"
                          material="color: white; shader: flat" position="0 0 -0.3"
                          geometry="primitive: sphere; radius: 0.001">
                </a-entity>
            </a-entity>

            <a-gltf-model class="model" src="#gallery-gltf" position="0 0 0" scale="1 1 1"></a-gltf-model>
            <!-- nav-mesh: protecting us from running thru walls  -->
            <a-entity id="navmesh" class="model" gltf-model="#navmesh-gltf" visible="false">
            </a-entity>

            <!-- lights  -->
            <a-entity position="16.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="13.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="10.525  8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="7.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="4.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="1.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <a-entity position="-16.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-13.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-10.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-7.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-4.525 8 -38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-1.525 8 -38.025"
                      light="type: point; intensity: 0.4; distance: 10; decay: 2; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <a-entity position="16.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="13.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="10.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="7.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <a-entity position="-16.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-13.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-10.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-7.475 8 -28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <a-entity position="16.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="13.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="10.525  8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="7.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="4.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="1.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <a-entity position="-16.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-13.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-10.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-7.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-4.525 8 38.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-1.525 8 38.025"
                      light="type: point; intensity: 0.4; distance: 10; decay: 2; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <a-entity position="16.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="13.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="10.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="7.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <a-entity position="-16.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-13.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-10.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>
            <a-entity position="-7.475 8 28.025" rotation="-90 0 0"
                      light="type: spot; angle: 70; intensity:  1; distance: 10; decay: 1; color:  #FFFFFF; shadowCameraVisible: false;">

            </a-entity>

            <!-- ambient light  -->
            <a-entity light="type: ambient; intensity: 0.4; color:  #FFFFFF; shadowCameraVisible: false;"></a-entity>

            <a-sky color="#ECECEC"></a-sky>

        </a-scene>
    </div>
</body>
>
<script src="scripts/custom/loading_screen.js"></script>
<script src="scripts/custom/utils.js"></script>

<script>
    //acquiring sceneEL
    var sceneEl = document.querySelector('a-scene');

    //checks if scene has loaded befor building all of the dinamic content
    function check_scene() {
        if (sceneEl.hasLoaded) {
            start_scene()
        } else {
            build_loading_screen();
            start_loading_screen_listeners();
            sceneEl.addEventListener('loaded', start_scene);
        }
    }
    function start_scene() {
    }
    check_scene();
</script>


</html>